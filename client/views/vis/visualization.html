<template name="visualization">
  <div class="visualizationWrapper" style="height: {{visHeight}}; margin-bottom: 3rem">
    {{#if visBasic}}
      {{#if isRunning}}
        <div class="ui active inline loader"></div> &ensp;
        <div class="ui basic red button js-cancel">cancel</div>
      {{/if}}

      {{> Template.dynamic template=templateName data=visData}} 
    {{else}}
      <div class="ui top attached segment grid">
        <div class="two column row">
          <div class="column">
            <strong>{{name}}</strong>  
          </div>
          <div class="right aligned column">
            <span class="timeAgo">{{timeAgo result.updatedAt}}</span>
            &ensp;
            <i class="download link icon js-download" title="download"></i>
            <i class="refresh link icon js-run" title="refresh"></i>
            <a href={{pathFor 'jobView' id=result.jobId}} title="edit">
              <i class="edit link icon"></i>
            </a>
          </div>          
        </div>
      </div>
      <div class="ui bottom attached {{isRunning}} segment">
        {{> Template.dynamic template=templateName data=visData}}   
      </div>
    {{/if}}
  </div>
</template>


<template name="visualizationError">
  <div class="ui icon error message">
    <i class="warning icon"></i>
    <div class="content">
      {{data}}  
    </div>
  </div>
</template>